{"ast":null,"code":"var _jsxFileName = \"/Users/sun/Desktop/vscode-macR/robe-non1/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, doc, collection, onSnapshot, addDoc, updateDoc, query, deleteDoc } from 'firebase/firestore';\n\n// Lucide React for icons\nimport { ClipboardList, UserRound, ArrowUp, MessageSquare, Plus, ChevronLeft, ChevronRight, Trash2, Copy, CheckSquare, Phone, Undo2, History, AlertTriangle, Edit, Lock } from 'lucide-react';\n\n// --- Firebase Configuration & Initialization ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDIC0be4A6AK3lDjH5ouh_oywGvTKRxMt4\",\n  authDomain: \"robe-non1.firebaseapp.com\",\n  projectId: \"robe-non1\",\n  storageBucket: \"robe-non1.firebasestorage.app\",\n  messagingSenderId: \"491977372291\",\n  appId: \"1:491977372291:web:8abd59846cc674689a61b6\"\n};\nconst appId = firebaseConfig.appId;\n\n// --- Main App Component ---\nfunction Dashboard({\n  user\n}) {\n  _s();\n  var _selectedRecord$date, _selectedRecord$comme, _selectedRecord$comme2, _selectedRecord$comme3, _selectedRecord$comme4;\n  const [db, setDb] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const topOfPageRef = useRef(null);\n  const formRef = useRef(null);\n  const [newRecordForm, setNewRecordForm] = useState({\n    customerName: '',\n    customerContact: '',\n    salesperson: '',\n    branch: '신사',\n    source: '워크인',\n    reason: '가격 문제',\n    reservationDate: '',\n    reservationTime: '',\n    consultationTime: '',\n    recordContent: ''\n  });\n  const [showCommentModal, setShowCommentModal] = useState(false);\n  const [selectedRecord, setSelectedRecord] = useState(null);\n  const [newCommentText, setNewCommentText] = useState('');\n  const [showConfirmDeleteModal, setShowConfirmDeleteModal] = useState(false);\n  const [deleteRecordId, setDeleteRecordId] = useState(null);\n  const [showRecontractModal, setShowRecontractModal] = useState(false);\n  const [recontractRecord, setRecontractRecord] = useState(null);\n  const [recontractForm, setRecontractForm] = useState({\n    salesperson: '',\n    content: ''\n  });\n  const [showHistory, setShowHistory] = useState(false);\n  const [showRevertConfirmModal, setShowRevertConfirmModal] = useState(false);\n  const [recordToRevert, setRecordToRevert] = useState(null);\n  const [unclosedPage, setUnclosedPage] = useState(1);\n  const [recontactedPage, setRecontactedPage] = useState(1);\n  const [recontractedCompletedPage, setRecontractedCompletedPage] = useState(1);\n  const recordsPerPage = 5;\n\n  // State for monthly stats navigation\n  const [statsMonth, setStatsMonth] = useState(new Date());\n  const branches = ['신사', '광교', '구월', '노원', '대전', '부산', '성수', '수원', '압구정', '인천', '잠실'];\n  const sources = ['워크인', '박람회', '루어', '지인소개', '크라우드', '기타'];\n  const reasons = ['가격 문제', '비교 방문', '고객 변심', '의견 불일치', '기타'];\n  const branchColors = {\n    '신사': '#EF4444',\n    '광교': '#F97316',\n    '구월': '#F59E0B',\n    '노원': '#10B981',\n    '대전': '#6B7280',\n    '부산': '#3B82F6',\n    '성수': '#A855F7',\n    '수원': '#EC4899',\n    '압구정': '#14B8A6',\n    '인천': '#6366F1',\n    '잠실': '#84CC16',\n    '기타': '#78716C'\n  };\n  const reasonColors = {\n    '가격 문제': '#EF4444',\n    '비교 방문': '#F97316',\n    '고객 변심': '#F59E0B',\n    '의견 불일치': '#6366F1',\n    '기타': '#6B7280'\n  };\n  useEffect(() => {\n    const app = initializeApp(firebaseConfig);\n    const firestoreDb = getFirestore(app);\n    setDb(firestoreDb);\n  }, []);\n  useEffect(() => {\n    if (!db || !user) return;\n    setLoading(true);\n    const collectionPath = `artifacts/${appId}/public/data/unclosed_records`;\n    const q = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const fetchedRecords = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setRecords(fetchedRecords);\n      setLoading(false);\n    }, err => {\n      console.error(\"Data Fetch Error:\", err);\n      setError(\"데이터를 불러오는 데 실패했습니다.\");\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, [db, user]);\n  const handleFormChange = e => setNewRecordForm(prev => ({\n    ...prev,\n    [e.target.name]: e.target.value\n  }));\n  const handleRecontractFormChange = e => setRecontractForm(prev => ({\n    ...prev,\n    [e.target.name]: e.target.value\n  }));\n  const handleAddRecord = async e => {\n    e.preventDefault();\n    if (!db || !newRecordForm.customerName || !newRecordForm.salesperson || !newRecordForm.recordContent) {\n      return setError(\"필수 항목을 모두 입력해주세요.\");\n    }\n    try {\n      var _topOfPageRef$current;\n      await addDoc(collection(db, `artifacts/${appId}/public/data/unclosed_records`), {\n        ...newRecordForm,\n        comments: [],\n        date: new Date(),\n        status: '미계약',\n        recontacted: false\n      });\n      setNewRecordForm({\n        customerName: '',\n        customerContact: '',\n        salesperson: '',\n        branch: '신사',\n        source: '워크인',\n        reason: '가격 문제',\n        reservationDate: '',\n        reservationTime: '',\n        consultationTime: '',\n        recordContent: ''\n      });\n      setError(null);\n      (_topOfPageRef$current = topOfPageRef.current) === null || _topOfPageRef$current === void 0 ? void 0 : _topOfPageRef$current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    } catch (e) {\n      setError(\"데이터 추가 중 오류가 발생했습니다.\");\n    }\n  };\n  const openRevertConfirmModal = record => {\n    setRecordToRevert(record);\n    setShowRevertConfirmModal(true);\n  };\n  const handleRevertToUnclosed = async () => {\n    if (!db || !recordToRevert) return;\n    try {\n      const originalComments = recordToRevert.comments.filter(c => {\n        const type = typeof c === 'object' ? c.type : 'original';\n        return type === 'original';\n      });\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, recordToRevert.id), {\n        status: '미계약',\n        comments: originalComments\n      });\n      setShowRevertConfirmModal(false);\n      setRecordToRevert(null);\n    } catch (e) {\n      setError(\"미계약으로 되돌리는 중 오류가 발생했습니다.\");\n    }\n  };\n  const openRecontractModal = record => {\n    setRecontractRecord(record);\n    setRecontractForm({\n      salesperson: '',\n      content: ''\n    });\n    setShowRecontractModal(true);\n  };\n  const handleConfirmRecontract = async e => {\n    e.preventDefault();\n    if (!db || !recontractRecord || !recontractForm.salesperson || !recontractForm.content) {\n      return setError(\"재계약 담당자와 과정 기록을 모두 입력해주세요.\");\n    }\n    try {\n      const recontractNote = {\n        text: `[재계약 성공] 담당자: ${recontractForm.salesperson}\\n과정: ${recontractForm.content}`,\n        type: 'recontract-process',\n        timestamp: new Date()\n      };\n      const updatedComments = [...(recontractRecord.comments || []), recontractNote];\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, recontractRecord.id), {\n        status: 'recontracted',\n        comments: updatedComments\n      });\n      setShowRecontractModal(false);\n      setRecontractRecord(null);\n      setError(null);\n    } catch (e) {\n      setError(\"재계약 처리 중 오류가 발생했습니다.\");\n    }\n  };\n  const handleAddComment = async () => {\n    if (!db || !(selectedRecord !== null && selectedRecord !== void 0 && selectedRecord.id) || !newCommentText) return;\n    try {\n      const newCommentObject = {\n        text: newCommentText,\n        type: selectedRecord.status === 'recontracted' ? 'follow-up' : 'original',\n        timestamp: new Date()\n      };\n      const updatedComments = [...(selectedRecord.comments || []), newCommentObject];\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, selectedRecord.id), {\n        comments: updatedComments\n      });\n      setNewCommentText('');\n      setSelectedRecord(prev => ({\n        ...prev,\n        comments: updatedComments\n      }));\n    } catch (e) {\n      setError(\"코멘트 추가 중 오류가 발생했습니다.\");\n    }\n  };\n  const handleDeleteComment = async (commentIndexToDelete, commentType) => {\n    if (!db || !(selectedRecord !== null && selectedRecord !== void 0 && selectedRecord.id)) return;\n    try {\n      const commentsOfType = selectedRecord.comments.filter(c => typeof c === 'object' ? c.type === commentType : commentType === 'original' && !c.startsWith('[재계약 성공]'));\n      const otherComments = selectedRecord.comments.filter(c => typeof c === 'object' ? c.type !== commentType : commentType === 'original' && c.startsWith('[재계약 성공]'));\n      const updatedCommentsOfType = commentsOfType.filter((_, index) => index !== commentIndexToDelete);\n      const finalComments = [...otherComments, ...updatedCommentsOfType];\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, selectedRecord.id), {\n        comments: finalComments\n      });\n      setSelectedRecord(prev => ({\n        ...prev,\n        comments: finalComments\n      }));\n    } catch (e) {\n      setError(\"코멘트 삭제 중 오류가 발생했습니다.\");\n    }\n  };\n  const handleDeleteRecord = async () => {\n    if (!db || !deleteRecordId) return;\n    try {\n      await deleteDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, deleteRecordId));\n      setDeleteRecordId(null);\n      setShowConfirmDeleteModal(false);\n    } catch (e) {\n      setError(\"데이터 삭제 중 오류가 발생했습니다.\");\n    }\n  };\n  const toggleRecontact = async (recordId, currentStatus) => {\n    if (!db) return;\n    try {\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, recordId), {\n        recontacted: !currentStatus\n      });\n    } catch (e) {\n      setError(\"리컨택 상태 업데이트 중 오류가 발생했습니다.\");\n    }\n  };\n  const openCommentModal = record => {\n    setShowHistory(false);\n    setSelectedRecord(record);\n    setShowCommentModal(true);\n  };\n  const openConfirmDeleteModal = recordId => {\n    setDeleteRecordId(recordId);\n    setShowConfirmDeleteModal(true);\n  };\n  const handleCopyRecord = () => {\n    if (!selectedRecord) return;\n    let copyText = `[기본 정보]\\n지점: ${selectedRecord.branch}\\n최초 담당자: ${selectedRecord.salesperson}\\n고객: ${selectedRecord.customerName} (${selectedRecord.customerContact || '없음'})\\n출처: ${selectedRecord.source}\\n최초 미계약 사유: ${selectedRecord.reason}`;\n    if (selectedRecord.status === 'recontracted') {\n      const {\n        process\n      } = parseRecontractInfo(selectedRecord);\n      if (process) copyText += `\\n\\n[재계약 과정 기록]\\n${process}`;\n    } else {\n      copyText += `\\n\\n[미계약 기록]\\n${selectedRecord.recordContent}`;\n    }\n    const textarea = document.createElement('textarea');\n    textarea.value = copyText;\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      document.execCommand('copy');\n      alert('기록 내용이 클립보드에 복사되었습니다.');\n    } catch (err) {\n      alert('복사에 실패했습니다.');\n    }\n    document.body.removeChild(textarea);\n  };\n  const parseRecontractInfo = record => {\n    var _record$comments, _lines$;\n    const recontractComment = (_record$comments = record.comments) === null || _record$comments === void 0 ? void 0 : _record$comments.find(c => typeof c === 'object' && c.type === 'recontract-process' || typeof c === 'string' && c.startsWith('[재계약 성공]'));\n    if (!recontractComment) return {\n      recontractor: 'N/A',\n      process: ''\n    };\n    const text = typeof recontractComment === 'string' ? recontractComment : recontractComment.text;\n    const lines = text.split('\\n');\n    const recontractor = ((_lines$ = lines[0]) === null || _lines$ === void 0 ? void 0 : _lines$.replace('[재계약 성공] 담당자: ', '').trim()) || 'N/A';\n    const process = lines.slice(1).join('\\n').replace('과정: ', '').trim();\n    return {\n      recontractor,\n      process\n    };\n  };\n  const getCommentCount = record => {\n    if (!record || !record.comments) return 0;\n    return record.comments.filter(c => typeof c === 'object' ? c.type !== 'recontract-process' : !c.startsWith('[재계약 성공]')).length;\n  };\n  const allUnclosedRecords = records.filter(r => r.status !== 'recontracted' && !r.recontacted);\n  const recontactedOnlyRecords = records.filter(r => r.status !== 'recontracted' && r.recontacted);\n  const recontractedCompletedRecords = records.filter(r => r.status === 'recontracted');\n  const dashboardData = useMemo(() => {\n    const now = new Date();\n    const data = {\n      monthlyData: {},\n      allTimeSources: {},\n      allTimeReasons: {},\n      salespersonBranchMap: {}\n    };\n    const activeUnclosed = records.filter(r => r.status !== 'recontracted');\n    activeUnclosed.forEach(r => {\n      var _r$date, _data$monthlyData$mKe;\n      const d = (_r$date = r.date) === null || _r$date === void 0 ? void 0 : _r$date.toDate();\n      if (!d) return;\n      const mKey = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\n      data.monthlyData[mKey] = {\n        total: (((_data$monthlyData$mKe = data.monthlyData[mKey]) === null || _data$monthlyData$mKe === void 0 ? void 0 : _data$monthlyData$mKe.total) || 0) + 1\n      };\n      data.allTimeSources[r.source] = (data.allTimeSources[r.source] || 0) + 1;\n      data.allTimeReasons[r.reason] = (data.allTimeReasons[r.reason] || 0) + 1;\n      if (r.salesperson && r.branch) data.salespersonBranchMap[r.salesperson] = r.branch;\n    });\n    const statsMonthRecords = activeUnclosed.filter(r => {\n      var _r$date2;\n      const d = (_r$date2 = r.date) === null || _r$date2 === void 0 ? void 0 : _r$date2.toDate();\n      return d && d.getFullYear() === statsMonth.getFullYear() && d.getMonth() === statsMonth.getMonth();\n    });\n    const monthlySalespersons = {};\n    const monthlyBranches = {};\n    statsMonthRecords.forEach(r => {\n      monthlySalespersons[r.salesperson] = (monthlySalespersons[r.salesperson] || 0) + 1;\n      monthlyBranches[r.branch] = (monthlyBranches[r.branch] || 0) + 1;\n    });\n    const currentMonthRecordsCount = Object.values(monthlyBranches).reduce((sum, count) => sum + count, 0);\n    const lastMonthStart = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n    const lastMonthEnd = new Date(now.getFullYear(), now.getMonth(), 0, 23, 59, 59, 999);\n    const lastMonthRecordsCount = activeUnclosed.filter(r => {\n      var _r$date3;\n      const d = (_r$date3 = r.date) === null || _r$date3 === void 0 ? void 0 : _r$date3.toDate();\n      return d && d >= lastMonthStart && d <= lastMonthEnd;\n    }).length;\n    return {\n      ...data,\n      monthlySalespersons,\n      monthlyBranches,\n      totalRecordsCurrentMonth: currentMonthRecordsCount,\n      totalRecordsLastMonth: lastMonthRecordsCount\n    };\n  }, [records, statsMonth]);\n  const handleInputFocus = e => {\n    setTimeout(() => {\n      e.target.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }, 300);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleAddRecord(e);\n    }\n  };\n  const renderChart = (data, ChartComponent) => {\n    if (Object.keys(data).length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-500 h-full flex items-center justify-center\",\n      children: \"\\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 48\n    }, this);\n    return /*#__PURE__*/_jsxDEV(ChartComponent, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 12\n    }, this);\n  };\n  const MonthlyLineChart = ({\n    data\n  }) => {\n    const sortedMonths = Object.keys(data).sort().slice(-6);\n    if (sortedMonths.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-40 flex items-center justify-center text-gray-500\",\n      children: \"\\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 43\n    }, this);\n    const maxCount = Math.max(...sortedMonths.map(m => data[m].total), 0);\n    const chartHeight = 160;\n    const chartWidth = 500;\n    const padding = 30;\n    const points = sortedMonths.map((month, index) => {\n      const x = index / (sortedMonths.length > 1 ? sortedMonths.length - 1 : 1) * (chartWidth - padding * 2) + padding;\n      const y = chartHeight - padding - data[month].total / (maxCount || 1) * (chartHeight - padding * 2);\n      return `${x},${y}`;\n    }).join(' ');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-40\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        viewBox: `0 0 ${chartWidth} ${chartHeight}`,\n        className: \"w-full h-full\",\n        preserveAspectRatio: \"xMidYMid meet\",\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          x1: padding,\n          y1: chartHeight - padding,\n          x2: chartWidth - padding,\n          y2: chartHeight - padding,\n          stroke: \"#e5e7eb\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n          fill: \"none\",\n          stroke: \"#EF4444\",\n          strokeWidth: \"2\",\n          points: points\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 17\n        }, this), sortedMonths.map((month, index) => {\n          const x = index / (sortedMonths.length > 1 ? sortedMonths.length - 1 : 1) * (chartWidth - padding * 2) + padding;\n          const y = chartHeight - padding - data[month].total / (maxCount || 1) * (chartHeight - padding * 2);\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: x,\n              cy: y,\n              r: \"4\",\n              fill: \"#EF4444\",\n              stroke: \"white\",\n              strokeWidth: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: x,\n              y: y - 10,\n              textAnchor: \"middle\",\n              fontSize: \"12\",\n              fill: \"#4b5563\",\n              fontWeight: \"bold\",\n              children: data[month].total\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: x,\n              y: chartHeight - padding + 15,\n              textAnchor: \"middle\",\n              fontSize: \"12\",\n              fill: \"#9ca3af\",\n              children: [month.substring(5), \"\\uC6D4\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 29\n            }, this)]\n          }, month, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }, this);\n  };\n  const TopNChart = ({\n    data,\n    isSalespersonChart = false\n  }) => {\n    var _sortedData$;\n    const sortedData = Object.entries(data).sort(([, a], [, b]) => b - a);\n    const maxCount = ((_sortedData$ = sortedData[0]) === null || _sortedData$ === void 0 ? void 0 : _sortedData$[1]) || 0;\n    if (sortedData.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 w-full text-center text-gray-500\",\n      children: \"\\uD574\\uB2F9 \\uC6D4 \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 41\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col space-y-2 p-4 w-full\",\n      children: sortedData.map(([label, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-gray-600 w-24 truncate\",\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 157\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-4 bg-gray-200 rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full rounded-full\",\n            style: {\n              width: `${count / maxCount * 100}%`,\n              backgroundColor: isSalespersonChart ? branchColors[dashboardData.salespersonBranchMap[label]] : branchColors[label]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 290\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 237\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 506\n        }, this)]\n      }, label, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 100\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 12\n    }, this);\n  };\n  const PieChart = ({\n    data\n  }) => {\n    const total = Object.values(data).reduce((s, c) => s + c, 0);\n    const sortedData = Object.entries(data).sort(([, a], [, b]) => b - a);\n    const colors = ['#EF4444', '#F97316', '#F59E0B', '#10B981', '#6B7280', '#06B6D4'];\n    let p = 0;\n    const paths = sortedData.map(([label, count], i) => {\n      const percent = count / total * 100;\n      const a1 = p / 100 * 360;\n      p += percent;\n      const a2 = p / 100 * 360;\n      const [x1, y1] = [18 + 15.9155 * Math.cos(Math.PI * (a1 - 90) / 180), 18 + 15.9155 * Math.sin(Math.PI * (a1 - 90) / 180)];\n      const [x2, y2] = [18 + 15.9155 * Math.cos(Math.PI * (a2 - 90) / 180), 18 + 15.9155 * Math.sin(Math.PI * (a2 - 90) / 180)];\n      return /*#__PURE__*/_jsxDEV(\"path\", {\n        d: `M18,18 L${x1},${y1} A15.9155,15.9155 0 ${percent > 50 ? 1 : 0},1 ${x2},${y2} Z`,\n        fill: colors[i % colors.length]\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 14\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        viewBox: \"0 0 36 36\",\n        className: \"w-32 h-32 mb-4\",\n        children: paths\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 56\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-center gap-x-4 gap-y-2 text-xs\",\n        children: sortedData.map(([l, c], i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 rounded-full mr-2\",\n            style: {\n              backgroundColor: colors[i % colors.length]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 266\n          }, this), l, \" (\", (c / total * 100).toFixed(0), \"%)\"]\n        }, l, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 223\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 121\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 12\n    }, this);\n  };\n  const TopNChartReasons = ({\n    data\n  }) => {\n    var _sortedData$2;\n    const sortedData = Object.entries(data).sort(([, a], [, b]) => b - a).slice(0, 5);\n    const maxCount = ((_sortedData$2 = sortedData[0]) === null || _sortedData$2 === void 0 ? void 0 : _sortedData$2[1]) || 0;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col space-y-2 p-4\",\n      children: sortedData.map(([label, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm w-24 truncate\",\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 150\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-4 bg-gray-200 rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full\",\n            style: {\n              width: `${count / maxCount * 100}%`,\n              backgroundColor: reasonColors[label]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 257\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 204\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 381\n        }, this)]\n      }, label, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 93\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 12\n    }, this);\n  };\n  const PaginatedTable = ({\n    title,\n    records,\n    currentPage,\n    setCurrentPage,\n    columns,\n    renderRow\n  }) => {\n    const totalPages = Math.ceil(records.length / recordsPerPage);\n    const paginatedRecords = records.slice((currentPage - 1) * recordsPerPage, currentPage * recordsPerPage);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 sm:p-6 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-4 text-gray-700\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-[700px] w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: columns.map(col => /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\",\n                children: col\n              }, col, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 51\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: records.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: columns.length,\n                className: \"p-4 text-center text-gray-500\",\n                children: \"\\uD574\\uB2F9 \\uAE30\\uB85D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 29\n            }, this) : paginatedRecords.map(renderRow)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 13\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center mt-4 space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentPage(p => Math.max(1, p - 1)),\n          disabled: currentPage === 1,\n          className: \"p-2 rounded-full disabled:opacity-50 hover:bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(ChevronLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 181\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uD398\\uC774\\uC9C0 \", currentPage, \" / \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentPage(p => Math.min(totalPages, p + 1)),\n          disabled: currentPage === totalPages,\n          className: \"p-2 rounded-full disabled:opacity-50 hover:bg-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(ChevronRight, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 199\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 9\n    }, this);\n  };\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-lg shadow-xl text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-red-600\",\n        children: \"\\uC624\\uB958 \\uBC1C\\uC0DD!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 147\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 206\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 84\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 418,\n    columnNumber: 21\n  }, this);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-red-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 86\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 419,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 font-sans p-4 sm:p-8 flex flex-col\",\n    ref: topOfPageRef,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex flex-nowrap items-center justify-between bg-white p-2 sm:p-4 rounded-2xl shadow-lg mb-6 sticky top-4 z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-lg sm:text-xl font-bold text-gray-800 flex items-center whitespace-nowrap\",\n        children: [/*#__PURE__*/_jsxDEV(ClipboardList, {\n          className: \"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uBBF8\\uACC4\\uC57D \\uAD00\\uB9AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 flex-shrink-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _formRef$current;\n            return (_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.scrollIntoView({\n              behavior: 'smooth'\n            });\n          },\n          className: \"flex items-center px-3 py-1 bg-red-500 text-white rounded-full text-xs sm:text-sm font-semibold hover:bg-red-600\",\n          children: [/*#__PURE__*/_jsxDEV(Edit, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this), \"\\uAE30\\uB85D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center text-xs text-gray-500 bg-gray-100 px-3 py-1 rounded-full min-w-0\",\n          children: [/*#__PURE__*/_jsxDEV(UserRound, {\n            className: \"w-4 h-4 mr-1 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"truncate\",\n            children: \"\\uB0B4\\uBD80 \\uC9C1\\uC6D0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 gap-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-5 rounded-2xl shadow-lg col-span-1 sm:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-sm mb-1\",\n              children: \"\\uC774\\uBC88 \\uB2EC \\uBBF8\\uACC4\\uC57D \\uAC74\\uC218 / \\uC9C0\\uB09C \\uB2EC \\uB300\\uBE44\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 91\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-red-500\",\n                children: [dashboardData.totalRecordsCurrentMonth, \"\\uAC74\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 199\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center text-gray-800 text-lg sm:text-2xl\",\n                children: [/*#__PURE__*/_jsxDEV(ArrowUp, {\n                  className: `w-6 h-6 mr-1 ${dashboardData.totalRecordsCurrentMonth >= dashboardData.totalRecordsLastMonth ? 'text-green-500' : 'text-red-500 rotate-180'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 360\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold\",\n                  children: dashboardData.totalRecordsLastMonth > 0 ? `${((dashboardData.totalRecordsCurrentMonth - dashboardData.totalRecordsLastMonth) / dashboardData.totalRecordsLastMonth * 100).toFixed(1)}%` : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 526\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 291\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 158\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-700\",\n              children: \"\\uC6D4\\uBCC4 \\uBBF8\\uACC4\\uC57D \\uAC74\\uC218 \\uCD94\\uC774\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 65\n            }, this), renderChart(dashboardData.monthlyData, MonthlyLineChart)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-700\",\n                children: \"\\uC9C0\\uC810/\\uB2F4\\uB2F9\\uC790\\uBCC4 \\uD1B5\\uACC4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setStatsMonth(prev => new Date(prev.getFullYear(), prev.getMonth() - 1, 1)),\n                  className: \"p-1 rounded-full hover:bg-gray-200\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 172\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-600 text-sm\",\n                  children: statsMonth.toLocaleString('ko-KR', {\n                    year: 'numeric',\n                    month: 'long'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setStatsMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + 1, 1)),\n                  className: \"p-1 rounded-full hover:bg-gray-200\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 172\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full sm:w-1/2\",\n                children: renderChart(dashboardData.monthlyBranches, props => /*#__PURE__*/_jsxDEV(TopNChart, {\n                  ...props\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 155\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full sm:w-1/2 relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-0 bottom-0 left-0 w-px bg-gray-300 hidden sm:block\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 229\n                }, this), renderChart(dashboardData.monthlySalespersons, props => /*#__PURE__*/_jsxDEV(TopNChart, {\n                  ...props,\n                  isSalespersonChart: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 375\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 187\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-700\",\n              children: \"\\uACE0\\uAC1D \\uCD9C\\uCC98\\uBCC4 \\uBE44\\uC911\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 65\n            }, this), renderChart(dashboardData.allTimeSources, PieChart)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 rounded-2xl shadow-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold mb-4 text-gray-700\",\n              children: \"\\uBBF8\\uACC4\\uC57D \\uC0AC\\uC720\\uBCC4 \\uBE44\\uC911\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 65\n            }, this), renderChart(dashboardData.allTimeReasons, TopNChartReasons)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PaginatedTable, {\n          title: \"\\uBBF8\\uACC4\\uC57D \\uAC74 \\uC0C1\\uC138 \\uAE30\\uB85D\",\n          records: allUnclosedRecords,\n          currentPage: unclosedPage,\n          setCurrentPage: setUnclosedPage,\n          columns: ['리컨택', '지점', '담당자', '고객', '사유', '내용', '액션'],\n          renderRow: r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleRecontact(r.id, r.recontacted),\n                children: /*#__PURE__*/_jsxDEV(CheckSquare, {\n                  className: \"w-5 h-5 text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 310\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 249\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 223\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: r.branch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 372\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: r.salesperson\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 421\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => r.customerContact && window.open(`tel:${r.customerContact}`),\n                className: `flex items-center hover:text-blue-600 ${!r.customerContact && 'cursor-default'}`,\n                disabled: !r.customerContact,\n                children: [r.customerName, r.customerContact && /*#__PURE__*/_jsxDEV(Phone, {\n                  className: \"w-4 h-4 ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 756\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 509\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 475\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: r.reason\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 805\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openCommentModal(r),\n                className: \"inline-flex items-center text-red-600 hover:text-red-900 font-semibold\",\n                children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 1015\n                }, this), \"\\uB0B4\\uC6A9 (\", getCommentCount(r), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 888\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 854\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openRecontractModal(r),\n                  className: \"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\",\n                  children: \"\\uACC4\\uC57D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 1174\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openConfirmDeleteModal(r.id),\n                  className: \"text-gray-400 hover:text-red-600\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 1409\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 1311\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 1129\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 1095\n            }, this)]\n          }, r.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 208\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PaginatedTable, {\n          title: \"\\uB9AC\\uCEE8\\uD0DD \\uC644\\uB8CC \\uAC74\",\n          records: recontactedOnlyRecords,\n          currentPage: recontactedPage,\n          setCurrentPage: setRecontactedPage,\n          columns: ['리컨택', '지점', '담당자', '고객', '사유', '내용', '액션'],\n          renderRow: r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"bg-orange-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleRecontact(r.id, r.recontacted),\n                children: /*#__PURE__*/_jsxDEV(CheckSquare, {\n                  className: \"w-5 h-5 text-green-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 342\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 281\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 255\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: r.branch\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 405\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: r.salesperson\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 454\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => r.customerContact && window.open(`tel:${r.customerContact}`),\n                className: `flex items-center hover:text-blue-600 ${!r.customerContact && 'cursor-default'}`,\n                disabled: !r.customerContact,\n                children: [r.customerName, r.customerContact && /*#__PURE__*/_jsxDEV(Phone, {\n                  className: \"w-4 h-4 ml-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 789\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 542\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 508\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: r.reason\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 838\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openCommentModal(r),\n                className: \"inline-flex items-center text-red-600 hover:text-red-900 font-semibold\",\n                children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 1048\n                }, this), \"\\uB0B4\\uC6A9 (\", getCommentCount(r), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 921\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 887\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-4 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openRecontractModal(r),\n                  className: \"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\",\n                  children: \"\\uACC4\\uC57D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 1207\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openConfirmDeleteModal(r.id),\n                  className: \"text-gray-400 hover:text-red-600\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 1442\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 1344\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 1162\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 1128\n            }, this)]\n          }, r.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 215\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PaginatedTable, {\n          title: \"\\uC7AC\\uACC4\\uC57D \\uC644\\uB8CC \\uAE30\\uB85D\",\n          records: recontractedCompletedRecords,\n          currentPage: recontractedCompletedPage,\n          setCurrentPage: setRecontractedCompletedPage,\n          columns: ['지점', '담당자 (재계약자)', '고객', '최초 사유', '내용', '액션'],\n          renderRow: r => {\n            const {\n              recontractor\n            } = parseRecontractInfo(r);\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-green-50 hover:bg-green-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-3 py-4 text-sm\",\n                children: r.branch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 360\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-3 py-4 text-sm\",\n                children: [r.salesperson, \" (\", recontractor, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 409\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-3 py-4 text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => r.customerContact && window.open(`tel:${r.customerContact}`),\n                  className: `flex items-center hover:text-blue-600 ${!r.customerContact && 'cursor-default'}`,\n                  disabled: !r.customerContact,\n                  children: [r.customerName, r.customerContact && /*#__PURE__*/_jsxDEV(Phone, {\n                    className: \"w-4 h-4 ml-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 761\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 514\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 480\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-3 py-4 text-sm\",\n                children: r.reason\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 810\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-3 py-4 text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openCommentModal(r),\n                  className: \"inline-flex items-center text-blue-600 hover:text-blue-900 font-semibold\",\n                  children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                    className: \"w-4 h-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 1022\n                  }, this), \"\\uB0B4\\uC6A9 (\", getCommentCount(r), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 893\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 859\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-3 py-4 text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openRevertConfirmModal(r),\n                  className: \"px-2 py-1 bg-gray-500 text-white text-xs rounded hover:bg-gray-600 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Undo2, {\n                    className: \"w-3 h-3 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 1283\n                  }, this), \"\\uBBF8\\uACC4\\uC57D\\uC73C\\uB85C\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 1136\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 1102\n              }, this)]\n            }, r.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 302\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: formRef,\n          className: \"bg-gray-800 p-6 rounded-2xl shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-6 text-white\",\n            children: \"\\uC0C8 \\uBBF8\\uACC4\\uC57D \\uAC74 \\uAE30\\uB85D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleAddRecord,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uC9C0\\uC810\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"branch\",\n                value: newRecordForm.branch,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\",\n                children: branches.map(b => /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: b\n                }, b, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 318\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 89\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uB2F4\\uB2F9\\uC790\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"salesperson\",\n                value: newRecordForm.salesperson,\n                onFocus: handleInputFocus,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 90\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uACE0\\uAC1D \\uC774\\uB984\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"customerName\",\n                value: newRecordForm.customerName,\n                onFocus: handleInputFocus,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 92\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uACE0\\uAC1D \\uC5F0\\uB77D\\uCC98\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                name: \"customerContact\",\n                value: newRecordForm.customerContact,\n                onFocus: handleInputFocus,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 93\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uACE0\\uAC1D \\uCD9C\\uCC98\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"source\",\n                value: newRecordForm.source,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\",\n                children: sources.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: s\n                }, s, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 320\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 92\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uBBF8\\uACC4\\uC57D \\uC0AC\\uC720\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"reason\",\n                value: newRecordForm.reason,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\",\n                children: reasons.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: r\n                }, r, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 321\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 93\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uC608\\uC57D \\uB0A0\\uC9DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"reservationDate\",\n                value: newRecordForm.reservationDate,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 92\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uC608\\uC57D \\uC2DC\\uAC04\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                name: \"reservationTime\",\n                value: newRecordForm.reservationTime,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 92\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uC0C1\\uB2F4 \\uC2DC\\uAC04\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"consultationTime\",\n                value: newRecordForm.consultationTime,\n                onFocus: handleInputFocus,\n                onChange: handleFormChange,\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 92\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-300\",\n                children: \"\\uAE30\\uB85D \\uB0B4\\uC6A9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"recordContent\",\n                value: newRecordForm.recordContent,\n                onFocus: handleInputFocus,\n                onChange: handleFormChange,\n                onKeyDown: handleKeyDown,\n                rows: \"3\",\n                className: \"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 92\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full flex justify-center items-center py-2 px-4 border rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700\",\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 186\n              }, this), \"\\uAE30\\uB85D \\uCD94\\uAC00\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this), showRevertConfirmModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 bg-white w-full max-w-md rounded-lg shadow-xl text-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"w-12 h-12 text-yellow-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 212\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"\\uBBF8\\uACC4\\uC57D\\uC73C\\uB85C \\uB418\\uB3CC\\uB9AC\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 280\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-6 text-gray-600\",\n          children: \"\\uC774 \\uC791\\uC5C5\\uC744 \\uC218\\uD589\\uD558\\uBA74 \\uC7AC\\uACC4\\uC57D \\uACFC\\uC815 \\uAE30\\uB85D\\uACFC \\uBAA8\\uB4E0 \\uD6C4\\uC18D \\uCF54\\uBA58\\uD2B8\\uAC00 \\uC601\\uAD6C\\uC801\\uC73C\\uB85C \\uC0AD\\uC81C\\uB429\\uB2C8\\uB2E4. \\uC9C4\\uD589\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 334\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowRevertConfirmModal(false),\n            className: \"px-4 py-2 border border-gray-300 rounded-md\",\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 470\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRevertToUnclosed,\n            className: \"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600\",\n            children: \"\\uD655\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 594\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 427\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 133\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 34\n    }, this), showRecontractModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleConfirmRecontract,\n        className: \"p-6 bg-white w-full max-w-lg rounded-lg shadow-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"\\uC7AC\\uACC4\\uC57D \\uAE30\\uB85D \\uC785\\uB825\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 233\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium\",\n              children: \"\\uC7AC\\uACC4\\uC57D \\uB2F4\\uB2F9\\uC790\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 318\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"salesperson\",\n              value: recontractForm.salesperson,\n              onChange: handleRecontractFormChange,\n              className: \"mt-1 block w-full p-2 border border-gray-300 rounded-md\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 378\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 313\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium\",\n              children: \"\\uC7AC\\uACC4\\uC57D \\uACFC\\uC815 \\uAE30\\uB85D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 579\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"content\",\n              value: recontractForm.content,\n              onChange: handleRecontractFormChange,\n              rows: \"4\",\n              className: \"mt-1 block w-full p-2 border border-gray-300 rounded-md\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 641\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 574\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 286\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setShowRecontractModal(false),\n            className: \"px-4 py-2 border border-gray-300 rounded-md\",\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 889\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-md\",\n            children: \"\\uC800\\uC7A5 \\uBC0F \\uC644\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 1024\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 844\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 130\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 31\n    }, this), showCommentModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white w-full max-w-lg rounded-lg shadow-xl flex flex-col max-h-[90vh]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center p-4 border-b flex-shrink-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: \"\\uAE30\\uB85D \\uBC0F \\uCF54\\uBA58\\uD2B8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCommentModal(false),\n            className: \"text-2xl font-bold\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 overflow-y-auto\",\n          children: [selectedRecord.status === 'recontracted' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowHistory(!showHistory),\n              className: \"w-full flex justify-between items-center p-2 bg-gray-200 rounded-md text-sm font-semibold hover:bg-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uBBF8\\uACC4\\uC57D \\uD788\\uC2A4\\uD1A0\\uB9AC \\uBCF4\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 257\n              }, this), /*#__PURE__*/_jsxDEV(History, {\n                className: `w-5 h-5 transition-transform ${showHistory ? 'rotate-180' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 281\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 84\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 62\n          }, this), (showHistory || selectedRecord.status !== 'recontracted') && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-4 text-sm break-words\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uC9C0\\uC810:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 155\n                }, this), \" \", selectedRecord.branch, \", \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uCD5C\\uCD08 \\uB2F4\\uB2F9\\uC790:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 201\n                }, this), \" \", selectedRecord.salesperson]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 152\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uACE0\\uAC1D:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 261\n                }, this), \" \", selectedRecord.customerName, \" (\", selectedRecord.customerContact || '없음', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 258\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uCD9C\\uCC98:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 361\n                }, this), \" \", selectedRecord.source, \", \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uC0AC\\uC720:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 407\n                }, this), \" \", selectedRecord.reason]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 358\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uC608\\uC57D:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 458\n                }, this), \" \", selectedRecord.reservationDate || '', \" \", selectedRecord.reservationTime || '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 455\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-2 whitespace-pre-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uCD5C\\uCD08 \\uAE30\\uB85D:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 600\n                }, this), \" \", selectedRecord.recordContent]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 560\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between mt-2 text-gray-500 text-xs\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: (_selectedRecord$date = selectedRecord.date) === null || _selectedRecord$date === void 0 ? void 0 : _selectedRecord$date.toDate().toLocaleString('ko-KR')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 723\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 658\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 84\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-gray-700 mb-2\",\n              children: [\"\\uCF54\\uBA58\\uD2B8 (\", ((_selectedRecord$comme = selectedRecord.comments) === null || _selectedRecord$comme === void 0 ? void 0 : _selectedRecord$comme.filter(c => typeof c === 'object' ? c.type === 'original' : !c.startsWith('[재계약 성공]')).length) || 0, \"\\uAC1C)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 803\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 max-h-48 overflow-y-auto space-y-3\",\n              children: ((_selectedRecord$comme2 = selectedRecord.comments) === null || _selectedRecord$comme2 === void 0 ? void 0 : _selectedRecord$comme2.filter(c => typeof c === 'object' ? c.type === 'original' : !c.startsWith('[재계약 성공]')).length) > 0 ? selectedRecord.comments.filter(c => typeof c === 'object' ? c.type === 'original' : !c.startsWith('[재계약 성공]')).map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start p-3 rounded-lg text-sm whitespace-pre-wrap bg-gray-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"flex-grow\",\n                  children: typeof c === 'object' ? c.text : c\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 1402\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteComment(i, 'original'),\n                  className: \"ml-2 text-gray-400 hover:text-red-600\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 1576\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 1467\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 1305\n              }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"\\uCF54\\uBA58\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 1625\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 993\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 79\n          }, this), selectedRecord.status === 'recontracted' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-4 text-sm relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold text-blue-800 mb-2\",\n                children: \"\\uC7AC\\uACC4\\uC57D \\uACFC\\uC815 \\uAE30\\uB85D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"whitespace-pre-wrap\",\n                children: parseRecontractInfo(selectedRecord).process\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCopyRecord,\n                className: \"absolute bottom-2 right-2 text-sm text-blue-600 hover:text-blue-800 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Copy, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 162\n                }, this), \"\\uBCF5\\uC0AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-gray-700 mb-2\",\n              children: [\"\\uD6C4\\uC18D \\uCF54\\uBA58\\uD2B8 (\", ((_selectedRecord$comme3 = selectedRecord.comments) === null || _selectedRecord$comme3 === void 0 ? void 0 : _selectedRecord$comme3.filter(c => typeof c === 'object' && c.type === 'follow-up').length) || 0, \"\\uAC1C)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 max-h-48 overflow-y-auto space-y-3\",\n              children: ((_selectedRecord$comme4 = selectedRecord.comments) === null || _selectedRecord$comme4 === void 0 ? void 0 : _selectedRecord$comme4.filter(c => typeof c === 'object' && c.type === 'follow-up').length) > 0 ? selectedRecord.comments.filter(c => typeof c === 'object' && c.type === 'follow-up').map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start p-3 rounded-lg text-sm whitespace-pre-wrap bg-gray-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"flex-grow\",\n                  children: c.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 378\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteComment(i, 'follow-up'),\n                  className: \"ml-2 text-gray-400 hover:text-red-600\",\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 525\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 415\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 281\n              }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"\\uCF54\\uBA58\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 574\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-t border-gray-200 flex-shrink-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"\\uC0C8 \\uCF54\\uBA58\\uD2B8 \\uCD94\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: newCommentText,\n            onChange: e => setNewCommentText(e.target.value),\n            rows: \"2\",\n            className: \"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddComment,\n              className: \"mt-2 px-4 py-2 bg-red-600 text-white rounded-md text-sm hover:bg-red-700\",\n              children: \"\\uCF54\\uBA58\\uD2B8 \\uCD94\\uAC00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 28\n    }, this), showConfirmDeleteModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 bg-white w-full max-w-sm rounded-lg shadow-xl text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"\\uAE30\\uB85D \\uC0AD\\uC81C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 208\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-6\",\n          children: \"\\uC815\\uB9D0\\uB85C \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 257\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConfirmDeleteModal(false),\n            className: \"px-4 py-2 border border-gray-300 rounded-md\",\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 337\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDeleteRecord,\n            className: \"px-4 py-2 bg-red-600 text-white rounded-md\",\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 461\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 294\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 129\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 422,\n    columnNumber: 5\n  }, this);\n}\n\n// --- Login Component ---\n_s(Dashboard, \"oyw8ep/0Mb4y9nvAIwoqHLO7GvE=\");\n_c = Dashboard;\nfunction LoginComponent({\n  onLogin\n}) {\n  _s2();\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  // ========================= 중요 =========================\n  // 여기에 접속에 사용할 비밀번호를 입력하세요.\n  // ========================================================\n  const CORRECT_PASSWORD = \"0077\";\n  const handleLogin = e => {\n    e.preventDefault();\n    if (password === CORRECT_PASSWORD) {\n      setError('');\n      onLogin();\n    } else {\n      setError('비밀번호가 올바르지 않습니다.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center min-h-screen bg-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      className: \"p-10 bg-white rounded-2xl shadow-xl text-center w-full max-w-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-800 mb-2\",\n        children: \"\\uBBF8\\uACC4\\uC57D \\uAC74 \\uAD00\\uB9AC \\uB300\\uC2DC\\uBCF4\\uB4DC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: \"\\uC811\\uC18D\\uD558\\uB824\\uBA74 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(Lock, {\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-red-500 focus:border-red-500\",\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm mt-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full mt-4 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-colors\",\n        children: \"\\uC811\\uC18D\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 544,\n    columnNumber: 9\n  }, this);\n}\n\n// --- App Wrapper ---\n_s2(LoginComponent, \"ve6Ue/r3UKCVjvGquX7y649dphA=\");\n_c2 = LoginComponent;\nexport default function App() {\n  _s3();\n  const [user, setUser] = useState(null);\n  const [auth, setAuth] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [isPasswordAuthenticated, setIsPasswordAuthenticated] = useState(false);\n  useEffect(() => {\n    const app = initializeApp(firebaseConfig);\n    const authInstance = getAuth(app);\n    setAuth(authInstance);\n    const unsubscribe = onAuthStateChanged(authInstance, user => {\n      setUser(user);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  const handlePasswordLogin = async () => {\n    if (auth && !user) {\n      try {\n        await signInAnonymously(auth);\n      } catch (error) {\n        console.error(\"Anonymous sign-in failed\", error);\n      }\n    }\n    setIsPasswordAuthenticated(true);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 79\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 16\n    }, this);\n  }\n  return isPasswordAuthenticated && user ? /*#__PURE__*/_jsxDEV(Dashboard, {\n    user: user\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 605,\n    columnNumber: 46\n  }, this) : /*#__PURE__*/_jsxDEV(LoginComponent, {\n    onLogin: handlePasswordLogin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 605,\n    columnNumber: 74\n  }, this);\n}\n_s3(App, \"b6N18jng1jYNMQ5GTpBSvFYxQ6M=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"LoginComponent\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","initializeApp","getAuth","signInAnonymously","onAuthStateChanged","getFirestore","doc","collection","onSnapshot","addDoc","updateDoc","query","deleteDoc","ClipboardList","UserRound","ArrowUp","MessageSquare","Plus","ChevronLeft","ChevronRight","Trash2","Copy","CheckSquare","Phone","Undo2","History","AlertTriangle","Edit","Lock","jsxDEV","_jsxDEV","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","Dashboard","user","_s","_selectedRecord$date","_selectedRecord$comme","_selectedRecord$comme2","_selectedRecord$comme3","_selectedRecord$comme4","db","setDb","records","setRecords","loading","setLoading","error","setError","topOfPageRef","formRef","newRecordForm","setNewRecordForm","customerName","customerContact","salesperson","branch","source","reason","reservationDate","reservationTime","consultationTime","recordContent","showCommentModal","setShowCommentModal","selectedRecord","setSelectedRecord","newCommentText","setNewCommentText","showConfirmDeleteModal","setShowConfirmDeleteModal","deleteRecordId","setDeleteRecordId","showRecontractModal","setShowRecontractModal","recontractRecord","setRecontractRecord","recontractForm","setRecontractForm","content","showHistory","setShowHistory","showRevertConfirmModal","setShowRevertConfirmModal","recordToRevert","setRecordToRevert","unclosedPage","setUnclosedPage","recontactedPage","setRecontactedPage","recontractedCompletedPage","setRecontractedCompletedPage","recordsPerPage","statsMonth","setStatsMonth","Date","branches","sources","reasons","branchColors","reasonColors","app","firestoreDb","collectionPath","q","unsubscribe","snapshot","fetchedRecords","docs","map","id","data","err","console","handleFormChange","e","prev","target","name","value","handleRecontractFormChange","handleAddRecord","preventDefault","_topOfPageRef$current","comments","date","status","recontacted","current","scrollIntoView","behavior","openRevertConfirmModal","record","handleRevertToUnclosed","originalComments","filter","c","type","openRecontractModal","handleConfirmRecontract","recontractNote","text","timestamp","updatedComments","handleAddComment","newCommentObject","handleDeleteComment","commentIndexToDelete","commentType","commentsOfType","startsWith","otherComments","updatedCommentsOfType","_","index","finalComments","handleDeleteRecord","toggleRecontact","recordId","currentStatus","openCommentModal","openConfirmDeleteModal","handleCopyRecord","copyText","process","parseRecontractInfo","textarea","document","createElement","body","appendChild","select","execCommand","alert","removeChild","_record$comments","_lines$","recontractComment","find","recontractor","lines","split","replace","trim","slice","join","getCommentCount","length","allUnclosedRecords","r","recontactedOnlyRecords","recontractedCompletedRecords","dashboardData","now","monthlyData","allTimeSources","allTimeReasons","salespersonBranchMap","activeUnclosed","forEach","_r$date","_data$monthlyData$mKe","d","toDate","mKey","getFullYear","String","getMonth","padStart","total","statsMonthRecords","_r$date2","monthlySalespersons","monthlyBranches","currentMonthRecordsCount","Object","values","reduce","sum","count","lastMonthStart","lastMonthEnd","lastMonthRecordsCount","_r$date3","totalRecordsCurrentMonth","totalRecordsLastMonth","handleInputFocus","setTimeout","block","handleKeyDown","key","shiftKey","renderChart","ChartComponent","keys","className","children","fileName","_jsxFileName","lineNumber","columnNumber","MonthlyLineChart","sortedMonths","sort","maxCount","Math","max","m","chartHeight","chartWidth","padding","points","month","x","y","viewBox","preserveAspectRatio","x1","y1","x2","y2","stroke","strokeWidth","fill","cx","cy","textAnchor","fontSize","fontWeight","substring","TopNChart","isSalespersonChart","_sortedData$","sortedData","entries","a","b","label","style","width","backgroundColor","PieChart","s","colors","p","paths","i","percent","a1","a2","cos","PI","sin","l","toFixed","TopNChartReasons","_sortedData$2","PaginatedTable","title","currentPage","setCurrentPage","columns","renderRow","totalPages","ceil","paginatedRecords","col","colSpan","onClick","disabled","min","ref","_formRef$current","toLocaleString","year","props","window","open","onSubmit","onChange","onFocus","required","onKeyDown","rows","_c","LoginComponent","onLogin","_s2","password","setPassword","CORRECT_PASSWORD","handleLogin","placeholder","_c2","App","_s3","setUser","auth","setAuth","isPasswordAuthenticated","setIsPasswordAuthenticated","authInstance","handlePasswordLogin","_c3","$RefreshReg$"],"sources":["/Users/sun/Desktop/vscode-macR/robe-non1/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, doc, collection, onSnapshot, addDoc, updateDoc, query, deleteDoc } from 'firebase/firestore';\n\n// Lucide React for icons\nimport { ClipboardList, UserRound, ArrowUp, MessageSquare, Plus, ChevronLeft, ChevronRight, Trash2, Copy, CheckSquare, Phone, Undo2, History, AlertTriangle, Edit, Lock } from 'lucide-react';\n\n// --- Firebase Configuration & Initialization ---\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDIC0be4A6AK3lDjH5ouh_oywGvTKRxMt4\",\n  authDomain: \"robe-non1.firebaseapp.com\",\n  projectId: \"robe-non1\",\n  storageBucket: \"robe-non1.firebasestorage.app\",\n  messagingSenderId: \"491977372291\",\n  appId: \"1:491977372291:web:8abd59846cc674689a61b6\"\n};\nconst appId = firebaseConfig.appId;\n\n\n// --- Main App Component ---\nfunction Dashboard({ user }) {\n  const [db, setDb] = useState(null);\n  const [records, setRecords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const topOfPageRef = useRef(null);\n  const formRef = useRef(null);\n\n  const [newRecordForm, setNewRecordForm] = useState({\n    customerName: '', customerContact: '', salesperson: '', branch: '신사',\n    source: '워크인', reason: '가격 문제', reservationDate: '', reservationTime: '',\n    consultationTime: '', recordContent: ''\n  });\n\n  const [showCommentModal, setShowCommentModal] = useState(false);\n  const [selectedRecord, setSelectedRecord] = useState(null);\n  const [newCommentText, setNewCommentText] = useState('');\n  const [showConfirmDeleteModal, setShowConfirmDeleteModal] = useState(false);\n  const [deleteRecordId, setDeleteRecordId] = useState(null);\n  const [showRecontractModal, setShowRecontractModal] = useState(false);\n  const [recontractRecord, setRecontractRecord] = useState(null);\n  const [recontractForm, setRecontractForm] = useState({ salesperson: '', content: '' });\n  const [showHistory, setShowHistory] = useState(false);\n  const [showRevertConfirmModal, setShowRevertConfirmModal] = useState(false);\n  const [recordToRevert, setRecordToRevert] = useState(null);\n\n  const [unclosedPage, setUnclosedPage] = useState(1);\n  const [recontactedPage, setRecontactedPage] = useState(1);\n  const [recontractedCompletedPage, setRecontractedCompletedPage] = useState(1);\n  const recordsPerPage = 5;\n\n  // State for monthly stats navigation\n  const [statsMonth, setStatsMonth] = useState(new Date());\n\n  const branches = ['신사', '광교', '구월', '노원', '대전', '부산', '성수', '수원', '압구정', '인천', '잠실'];\n  const sources = ['워크인', '박람회', '루어', '지인소개', '크라우드', '기타'];\n  const reasons = ['가격 문제', '비교 방문', '고객 변심', '의견 불일치', '기타'];\n  const branchColors = {\n    '신사': '#EF4444', '광교': '#F97316', '구월': '#F59E0B', '노원': '#10B981', '대전': '#6B7280', \n    '부산': '#3B82F6', '성수': '#A855F7', '수원': '#EC4899', '압구정': '#14B8A6', '인천': '#6366F1', \n    '잠실': '#84CC16', '기타': '#78716C',\n  };\n  const reasonColors = {\n    '가격 문제': '#EF4444', '비교 방문': '#F97316', '고객 변심': '#F59E0B', \n    '의견 불일치': '#6366F1', '기타': '#6B7280',\n  };\n\n  useEffect(() => {\n    const app = initializeApp(firebaseConfig);\n    const firestoreDb = getFirestore(app);\n    setDb(firestoreDb);\n  }, []);\n\n  useEffect(() => {\n    if (!db || !user) return;\n    setLoading(true);\n    const collectionPath = `artifacts/${appId}/public/data/unclosed_records`;\n    const q = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const fetchedRecords = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      setRecords(fetchedRecords);\n      setLoading(false);\n    }, (err) => {\n      console.error(\"Data Fetch Error:\", err);\n      setError(\"데이터를 불러오는 데 실패했습니다.\");\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, [db, user]);\n\n  const handleFormChange = (e) => setNewRecordForm(prev => ({ ...prev, [e.target.name]: e.target.value }));\n  const handleRecontractFormChange = (e) => setRecontractForm(prev => ({ ...prev, [e.target.name]: e.target.value }));\n\n  const handleAddRecord = async (e) => {\n    e.preventDefault();\n    if (!db || !newRecordForm.customerName || !newRecordForm.salesperson || !newRecordForm.recordContent) {\n      return setError(\"필수 항목을 모두 입력해주세요.\");\n    }\n    try {\n      await addDoc(collection(db, `artifacts/${appId}/public/data/unclosed_records`), {\n        ...newRecordForm, comments: [], date: new Date(), status: '미계약', recontacted: false\n      });\n      setNewRecordForm({ customerName: '', customerContact: '', salesperson: '', branch: '신사', source: '워크인', reason: '가격 문제', reservationDate: '', reservationTime: '', consultationTime: '', recordContent: '' });\n      setError(null);\n      topOfPageRef.current?.scrollIntoView({ behavior: 'smooth' });\n    } catch (e) { setError(\"데이터 추가 중 오류가 발생했습니다.\"); }\n  };\n\n  const openRevertConfirmModal = (record) => {\n    setRecordToRevert(record);\n    setShowRevertConfirmModal(true);\n  };\n \n  const handleRevertToUnclosed = async () => {\n    if (!db || !recordToRevert) return;\n    try {\n      const originalComments = recordToRevert.comments.filter(c => {\n        const type = typeof c === 'object' ? c.type : 'original';\n        return type === 'original';\n      });\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, recordToRevert.id), {\n        status: '미계약',\n        comments: originalComments,\n      });\n      setShowRevertConfirmModal(false);\n      setRecordToRevert(null);\n    } catch(e) {\n      setError(\"미계약으로 되돌리는 중 오류가 발생했습니다.\");\n    }\n  };\n\n  const openRecontractModal = (record) => {\n    setRecontractRecord(record);\n    setRecontractForm({ salesperson: '', content: '' });\n    setShowRecontractModal(true);\n  };\n\n  const handleConfirmRecontract = async (e) => {\n    e.preventDefault();\n    if (!db || !recontractRecord || !recontractForm.salesperson || !recontractForm.content) {\n      return setError(\"재계약 담당자와 과정 기록을 모두 입력해주세요.\");\n    }\n    try {\n      const recontractNote = {\n        text: `[재계약 성공] 담당자: ${recontractForm.salesperson}\\n과정: ${recontractForm.content}`,\n        type: 'recontract-process',\n        timestamp: new Date()\n      };\n      const updatedComments = [...(recontractRecord.comments || []), recontractNote];\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, recontractRecord.id), {\n        status: 'recontracted', comments: updatedComments,\n      });\n      setShowRecontractModal(false);\n      setRecontractRecord(null);\n      setError(null);\n    } catch (e) { setError(\"재계약 처리 중 오류가 발생했습니다.\"); }\n  };\n\n  const handleAddComment = async () => {\n    if (!db || !selectedRecord?.id || !newCommentText) return;\n    try {\n      const newCommentObject = {\n        text: newCommentText,\n        type: selectedRecord.status === 'recontracted' ? 'follow-up' : 'original',\n        timestamp: new Date()\n      };\n      const updatedComments = [...(selectedRecord.comments || []), newCommentObject];\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, selectedRecord.id), { comments: updatedComments });\n      setNewCommentText('');\n      setSelectedRecord(prev => ({ ...prev, comments: updatedComments }));\n    } catch (e) { setError(\"코멘트 추가 중 오류가 발생했습니다.\"); }\n  };\n\n  const handleDeleteComment = async (commentIndexToDelete, commentType) => {\n    if (!db || !selectedRecord?.id) return;\n    try {\n        const commentsOfType = selectedRecord.comments.filter(c => (typeof c === 'object' ? c.type === commentType : (commentType === 'original' && !c.startsWith('[재계약 성공]'))));\n        const otherComments = selectedRecord.comments.filter(c => (typeof c === 'object' ? c.type !== commentType : (commentType === 'original' && c.startsWith('[재계약 성공]'))));\n        \n        const updatedCommentsOfType = commentsOfType.filter((_, index) => index !== commentIndexToDelete);\n        \n        const finalComments = [...otherComments, ...updatedCommentsOfType];\n        \n        await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, selectedRecord.id), { comments: finalComments });\n        setSelectedRecord(prev => ({ ...prev, comments: finalComments }));\n    } catch (e) {\n        setError(\"코멘트 삭제 중 오류가 발생했습니다.\");\n    }\n  };\n\n  const handleDeleteRecord = async () => {\n    if (!db || !deleteRecordId) return;\n    try {\n      await deleteDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, deleteRecordId));\n      setDeleteRecordId(null);\n      setShowConfirmDeleteModal(false);\n    } catch (e) { setError(\"데이터 삭제 중 오류가 발생했습니다.\"); }\n  };\n\n  const toggleRecontact = async (recordId, currentStatus) => {\n    if (!db) return;\n    try {\n      await updateDoc(doc(db, `artifacts/${appId}/public/data/unclosed_records`, recordId), { recontacted: !currentStatus });\n    } catch (e) { setError(\"리컨택 상태 업데이트 중 오류가 발생했습니다.\"); }\n  };\n\n  const openCommentModal = (record) => { setShowHistory(false); setSelectedRecord(record); setShowCommentModal(true); };\n  const openConfirmDeleteModal = (recordId) => { setDeleteRecordId(recordId); setShowConfirmDeleteModal(true); };\n\n  const handleCopyRecord = () => {\n    if (!selectedRecord) return;\n    let copyText = `[기본 정보]\\n지점: ${selectedRecord.branch}\\n최초 담당자: ${selectedRecord.salesperson}\\n고객: ${selectedRecord.customerName} (${selectedRecord.customerContact || '없음'})\\n출처: ${selectedRecord.source}\\n최초 미계약 사유: ${selectedRecord.reason}`;\n    if (selectedRecord.status === 'recontracted') {\n        const { process } = parseRecontractInfo(selectedRecord);\n        if (process) copyText += `\\n\\n[재계약 과정 기록]\\n${process}`;\n    } else {\n        copyText += `\\n\\n[미계약 기록]\\n${selectedRecord.recordContent}`;\n    }\n    const textarea = document.createElement('textarea');\n    textarea.value = copyText;\n    document.body.appendChild(textarea);\n    textarea.select();\n    try {\n      document.execCommand('copy');\n      alert('기록 내용이 클립보드에 복사되었습니다.');\n    } catch (err) {\n      alert('복사에 실패했습니다.');\n    }\n    document.body.removeChild(textarea);\n  };\n\n  const parseRecontractInfo = (record) => {\n    const recontractComment = record.comments?.find(c => (typeof c === 'object' && c.type === 'recontract-process') || (typeof c === 'string' && c.startsWith('[재계약 성공]')));\n    if (!recontractComment) return { recontractor: 'N/A', process: '' };\n    const text = typeof recontractComment === 'string' ? recontractComment : recontractComment.text;\n    const lines = text.split('\\n');\n    const recontractor = lines[0]?.replace('[재계약 성공] 담당자: ', '').trim() || 'N/A';\n    const process = lines.slice(1).join('\\n').replace('과정: ', '').trim();\n    return { recontractor, process };\n  };\n\n  const getCommentCount = (record) => {\n    if (!record || !record.comments) return 0;\n    return record.comments.filter(c => (typeof c === 'object' ? c.type !== 'recontract-process' : !c.startsWith('[재계약 성공]'))).length;\n  }\n\n  const allUnclosedRecords = records.filter(r => r.status !== 'recontracted' && !r.recontacted);\n  const recontactedOnlyRecords = records.filter(r => r.status !== 'recontracted' && r.recontacted);\n  const recontractedCompletedRecords = records.filter(r => r.status === 'recontracted');\n  \n  const dashboardData = useMemo(() => {\n    const now = new Date();\n    const data = {\n        monthlyData: {},\n        allTimeSources: {},\n        allTimeReasons: {},\n        salespersonBranchMap: {}\n    };\n    const activeUnclosed = records.filter(r => r.status !== 'recontracted');\n\n    activeUnclosed.forEach(r => {\n        const d = r.date?.toDate();\n        if (!d) return;\n        const mKey = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\n        data.monthlyData[mKey] = { total: (data.monthlyData[mKey]?.total || 0) + 1 };\n        data.allTimeSources[r.source] = (data.allTimeSources[r.source] || 0) + 1;\n        data.allTimeReasons[r.reason] = (data.allTimeReasons[r.reason] || 0) + 1;\n        if(r.salesperson && r.branch) data.salespersonBranchMap[r.salesperson] = r.branch;\n    });\n\n    const statsMonthRecords = activeUnclosed.filter(r => {\n        const d = r.date?.toDate();\n        return d && d.getFullYear() === statsMonth.getFullYear() && d.getMonth() === statsMonth.getMonth();\n    });\n\n    const monthlySalespersons = {};\n    const monthlyBranches = {};\n    statsMonthRecords.forEach(r => {\n        monthlySalespersons[r.salesperson] = (monthlySalespersons[r.salesperson] || 0) + 1;\n        monthlyBranches[r.branch] = (monthlyBranches[r.branch] || 0) + 1;\n    });\n\n    const currentMonthRecordsCount = Object.values(monthlyBranches).reduce((sum, count) => sum + count, 0);\n    \n    const lastMonthStart = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n    const lastMonthEnd = new Date(now.getFullYear(), now.getMonth(), 0, 23, 59, 59, 999);\n    const lastMonthRecordsCount = activeUnclosed.filter(r => {\n        const d = r.date?.toDate();\n        return d && d >= lastMonthStart && d <= lastMonthEnd;\n    }).length;\n\n    return {\n      ...data,\n      monthlySalespersons,\n      monthlyBranches,\n      totalRecordsCurrentMonth: currentMonthRecordsCount,\n      totalRecordsLastMonth: lastMonthRecordsCount,\n    };\n  }, [records, statsMonth]);\n\n\n  const handleInputFocus = (e) => {\n    setTimeout(() => {\n        e.target.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    }, 300);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n        e.preventDefault();\n        handleAddRecord(e);\n    }\n  };\n\n  const renderChart = (data, ChartComponent) => {\n    if (Object.keys(data).length === 0) return <p className=\"text-center text-gray-500 h-full flex items-center justify-center\">데이터가 없습니다.</p>;\n    return <ChartComponent data={data} />;\n  };\n\n  const MonthlyLineChart = ({ data }) => {\n    const sortedMonths = Object.keys(data).sort().slice(-6);\n    if (sortedMonths.length === 0) return <div className=\"h-40 flex items-center justify-center text-gray-500\">데이터가 없습니다.</div>;\n\n    const maxCount = Math.max(...sortedMonths.map(m => data[m].total), 0);\n    const chartHeight = 160;\n    const chartWidth = 500;\n    const padding = 30;\n\n    const points = sortedMonths.map((month, index) => {\n        const x = (index / (sortedMonths.length > 1 ? sortedMonths.length - 1 : 1)) * (chartWidth - padding * 2) + padding;\n        const y = chartHeight - padding - ((data[month].total / (maxCount || 1)) * (chartHeight - padding * 2));\n        return `${x},${y}`;\n    }).join(' ');\n\n    return (\n        <div className=\"w-full h-40\">\n            <svg viewBox={`0 0 ${chartWidth} ${chartHeight}`} className=\"w-full h-full\" preserveAspectRatio=\"xMidYMid meet\">\n                <line x1={padding} y1={chartHeight - padding} x2={chartWidth - padding} y2={chartHeight - padding} stroke=\"#e5e7eb\" strokeWidth=\"1\"/>\n                <polyline fill=\"none\" stroke=\"#EF4444\" strokeWidth=\"2\" points={points} />\n                {sortedMonths.map((month, index) => {\n                    const x = (index / (sortedMonths.length > 1 ? sortedMonths.length - 1 : 1)) * (chartWidth - padding * 2) + padding;\n                    const y = chartHeight - padding - ((data[month].total / (maxCount || 1)) * (chartHeight - padding * 2));\n                    return (\n                        <g key={month}>\n                            <circle cx={x} cy={y} r=\"4\" fill=\"#EF4444\" stroke=\"white\" strokeWidth=\"2\" />\n                            <text x={x} y={y - 10} textAnchor=\"middle\" fontSize=\"12\" fill=\"#4b5563\" fontWeight=\"bold\">{data[month].total}</text>\n                            <text x={x} y={chartHeight - padding + 15} textAnchor=\"middle\" fontSize=\"12\" fill=\"#9ca3af\">{month.substring(5)}월</text>\n                        </g>\n                    );\n                })}\n            </svg>\n        </div>\n    );\n  };\n\n  const TopNChart = ({ data, isSalespersonChart = false }) => {\n    const sortedData = Object.entries(data).sort(([, a], [, b]) => b - a);\n    const maxCount = sortedData[0]?.[1] || 0;\n    if (sortedData.length === 0) return <div className=\"p-4 w-full text-center text-gray-500\">해당 월 데이터가 없습니다.</div>\n    return <div className=\"flex flex-col space-y-2 p-4 w-full\">{sortedData.map(([label, count]) => <div key={label} className=\"flex items-center space-x-2\"><span className=\"text-sm font-medium text-gray-600 w-24 truncate\">{label}</span><div className=\"w-full h-4 bg-gray-200 rounded-full\"><div className=\"h-full rounded-full\" style={{ width: `${(count / maxCount) * 100}%`, backgroundColor: isSalespersonChart ? branchColors[dashboardData.salespersonBranchMap[label]] : branchColors[label] }}></div></div><span className=\"text-sm\">{count}</span></div>)}</div>;\n  };\n\n  const PieChart = ({ data }) => {\n    const total = Object.values(data).reduce((s, c) => s + c, 0);\n    const sortedData = Object.entries(data).sort(([, a], [, b]) => b - a);\n    const colors = ['#EF4444', '#F97316', '#F59E0B', '#10B981', '#6B7280', '#06B6D4'];\n    let p = 0;\n    const paths = sortedData.map(([label, count], i) => {\n      const percent = (count / total) * 100;\n      const a1 = (p / 100) * 360; p += percent; const a2 = (p / 100) * 360;\n      const [x1, y1] = [18 + 15.9155 * Math.cos(Math.PI * (a1 - 90) / 180), 18 + 15.9155 * Math.sin(Math.PI * (a1 - 90) / 180)];\n      const [x2, y2] = [18 + 15.9155 * Math.cos(Math.PI * (a2 - 90) / 180), 18 + 15.9155 * Math.sin(Math.PI * (a2 - 90) / 180)];\n      return <path key={label} d={`M18,18 L${x1},${y1} A15.9155,15.9155 0 ${percent > 50 ? 1 : 0},1 ${x2},${y2} Z`} fill={colors[i % colors.length]} />;\n    });\n    return <div className=\"flex flex-col items-center\"><svg viewBox=\"0 0 36 36\" className=\"w-32 h-32 mb-4\">{paths}</svg><div className=\"flex flex-wrap justify-center gap-x-4 gap-y-2 text-xs\">{sortedData.map(([l, c], i) => <div key={l} className=\"flex items-center\"><span className=\"w-3 h-3 rounded-full mr-2\" style={{ backgroundColor: colors[i % colors.length] }}></span>{l} ({((c / total) * 100).toFixed(0)}%)</div>)}</div></div>;\n  };\n  const TopNChartReasons = ({ data }) => {\n    const sortedData = Object.entries(data).sort(([, a], [, b]) => b - a).slice(0, 5);\n    const maxCount = sortedData[0]?.[1] || 0;\n    return <div className=\"flex flex-col space-y-2 p-4\">{sortedData.map(([label, count]) => <div key={label} className=\"flex items-center space-x-2\"><span className=\"text-sm w-24 truncate\">{label}</span><div className=\"w-full h-4 bg-gray-200 rounded-full\"><div className=\"h-full\" style={{ width: `${(count / maxCount) * 100}%`, backgroundColor: reasonColors[label] }}></div></div><span>{count}</span></div>)}</div>;\n  };\n\n  const PaginatedTable = ({ title, records, currentPage, setCurrentPage, columns, renderRow }) => {\n    const totalPages = Math.ceil(records.length / recordsPerPage);\n    const paginatedRecords = records.slice((currentPage - 1) * recordsPerPage, currentPage * recordsPerPage);\n\n    return (\n        <div className=\"bg-white p-4 sm:p-6 rounded-2xl shadow-lg\">\n            <h2 className=\"text-xl font-semibold mb-4 text-gray-700\">{title}</h2>\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-[700px] w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            {columns.map((col) => <th key={col} className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap\">{col}</th>)}\n                        </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {records.length === 0 ? (\n                            <tr><td colSpan={columns.length} className=\"p-4 text-center text-gray-500\">해당 기록이 없습니다.</td></tr>\n                        ) : (\n                            paginatedRecords.map(renderRow)\n                        )}\n                    </tbody>\n                </table>\n            </div>\n            {totalPages > 1 && (\n                <div className=\"flex justify-center items-center mt-4 space-x-2\">\n                    <button onClick={() => setCurrentPage(p => Math.max(1, p - 1))} disabled={currentPage === 1} className=\"p-2 rounded-full disabled:opacity-50 hover:bg-gray-100\"><ChevronLeft/></button>\n                    <span>페이지 {currentPage} / {totalPages}</span>\n                    <button onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages} className=\"p-2 rounded-full disabled:opacity-50 hover:bg-gray-100\"><ChevronRight/></button>\n                </div>\n            )}\n        </div>\n    );\n  };\n\n  if (error) return <div className=\"flex items-center justify-center min-h-screen\"><div className=\"bg-white p-8 rounded-lg shadow-xl text-center\"><h2 className=\"text-2xl font-bold text-red-600\">오류 발생!</h2><p>{error}</p></div></div>;\n  if (loading) return <div className=\"flex items-center justify-center min-h-screen\"><div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-red-500\"></div></div>;\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 font-sans p-4 sm:p-8 flex flex-col\" ref={topOfPageRef}>\n      <header className=\"flex flex-nowrap items-center justify-between bg-white p-2 sm:p-4 rounded-2xl shadow-lg mb-6 sticky top-4 z-10\">\n        <h1 className=\"text-lg sm:text-xl font-bold text-gray-800 flex items-center whitespace-nowrap\">\n            <ClipboardList className=\"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-red-500\"/>\n            <span>미계약 관리</span>\n        </h1>\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\n          <button onClick={() => formRef.current?.scrollIntoView({ behavior: 'smooth' })} className=\"flex items-center px-3 py-1 bg-red-500 text-white rounded-full text-xs sm:text-sm font-semibold hover:bg-red-600\">\n            <Edit className=\"w-4 h-4 mr-1\"/>\n            기록\n          </button>\n          <div className=\"flex items-center text-xs text-gray-500 bg-gray-100 px-3 py-1 rounded-full min-w-0\">\n            <UserRound className=\"w-4 h-4 mr-1 flex-shrink-0\"/>\n            <span className=\"truncate\">내부 직원</span>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex flex-col gap-6\">\n        <div className=\"w-full space-y-6\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n             <div className=\"bg-white p-5 rounded-2xl shadow-lg col-span-1 sm:col-span-2\"><p className=\"text-gray-500 text-sm mb-1\">이번 달 미계약 건수 / 지난 달 대비</p><div className=\"flex items-center gap-4\"><p className=\"text-3xl font-bold text-red-500\">{dashboardData.totalRecordsCurrentMonth}건</p><div className=\"flex items-center text-gray-800 text-lg sm:text-2xl\"><ArrowUp className={`w-6 h-6 mr-1 ${dashboardData.totalRecordsCurrentMonth >= dashboardData.totalRecordsLastMonth ? 'text-green-500' : 'text-red-500 rotate-180'}`} /><span className=\"font-bold\">{dashboardData.totalRecordsLastMonth > 0 ? `${(((dashboardData.totalRecordsCurrentMonth - dashboardData.totalRecordsLastMonth) / dashboardData.totalRecordsLastMonth) * 100).toFixed(1)}%` : 'N/A'}</span></div></div></div>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg\"><h2 className=\"text-xl font-semibold mb-4 text-gray-700\">월별 미계약 건수 추이</h2>{renderChart(dashboardData.monthlyData, MonthlyLineChart)}</div>\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center\">\n                <div className=\"w-full flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-700\">지점/담당자별 통계</h2>\n                    <div className=\"flex items-center gap-2\">\n                        <button onClick={() => setStatsMonth(prev => new Date(prev.getFullYear(), prev.getMonth() - 1, 1))} className=\"p-1 rounded-full hover:bg-gray-200\"><ChevronLeft className=\"w-5 h-5\"/></button>\n                        <span className=\"font-semibold text-gray-600 text-sm\">{statsMonth.toLocaleString('ko-KR', { year: 'numeric', month: 'long' })}</span>\n                        <button onClick={() => setStatsMonth(prev => new Date(prev.getFullYear(), prev.getMonth() + 1, 1))} className=\"p-1 rounded-full hover:bg-gray-200\"><ChevronRight className=\"w-5 h-5\"/></button>\n                    </div>\n                </div>\n                <div className=\"flex flex-col sm:flex-row w-full\"><div className=\"w-full sm:w-1/2\">{renderChart(dashboardData.monthlyBranches, (props) => <TopNChart {...props} />)}</div><div className=\"w-full sm:w-1/2 relative\"><div className=\"absolute top-0 bottom-0 left-0 w-px bg-gray-300 hidden sm:block\"></div>{renderChart(dashboardData.monthlySalespersons, (props) => <TopNChart {...props} isSalespersonChart />)}</div></div>\n            </div>\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg\"><h2 className=\"text-xl font-semibold mb-4 text-gray-700\">고객 출처별 비중</h2>{renderChart(dashboardData.allTimeSources, PieChart)}</div>\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg\"><h2 className=\"text-xl font-semibold mb-4 text-gray-700\">미계약 사유별 비중</h2>{renderChart(dashboardData.allTimeReasons, TopNChartReasons)}</div>\n          </div>\n\n          <PaginatedTable title=\"미계약 건 상세 기록\" records={allUnclosedRecords} currentPage={unclosedPage} setCurrentPage={setUnclosedPage} columns={['리컨택', '지점', '담당자', '고객', '사유', '내용', '액션']} renderRow={r => (<tr key={r.id}><td className=\"px-3 py-4\"><button onClick={() => toggleRecontact(r.id, r.recontacted)}><CheckSquare className=\"w-5 h-5 text-gray-300\"/></button></td><td className=\"px-3 py-4 text-sm\">{r.branch}</td><td className=\"px-3 py-4 text-sm\">{r.salesperson}</td><td className=\"px-3 py-4 text-sm\"><button onClick={() => r.customerContact && window.open(`tel:${r.customerContact}`)} className={`flex items-center hover:text-blue-600 ${!r.customerContact && 'cursor-default'}`} disabled={!r.customerContact}>{r.customerName}{r.customerContact && <Phone className=\"w-4 h-4 ml-1\" />}</button></td><td className=\"px-3 py-4 text-sm\">{r.reason}</td><td className=\"px-3 py-4 text-sm\"><button onClick={() => openCommentModal(r)} className=\"inline-flex items-center text-red-600 hover:text-red-900 font-semibold\"><MessageSquare className=\"w-4 h-4 mr-1\"/>내용 ({getCommentCount(r)})</button></td><td className=\"px-3 py-4 text-sm\"><div className=\"flex items-center space-x-4\"><button onClick={() => openRecontractModal(r)} className=\"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\">계약</button><button onClick={() => openConfirmDeleteModal(r.id)} className=\"text-gray-400 hover:text-red-600\"><Trash2 className=\"w-5 h-5\" /></button></div></td></tr>)} />\n          <PaginatedTable title=\"리컨택 완료 건\" records={recontactedOnlyRecords} currentPage={recontactedPage} setCurrentPage={setRecontactedPage} columns={['리컨택', '지점', '담당자', '고객', '사유', '내용', '액션']} renderRow={r => (<tr key={r.id} className=\"bg-orange-50\"><td className=\"px-3 py-4\"><button onClick={() => toggleRecontact(r.id, r.recontacted)}><CheckSquare className=\"w-5 h-5 text-green-500\"/></button></td><td className=\"px-3 py-4 text-sm\">{r.branch}</td><td className=\"px-3 py-4 text-sm\">{r.salesperson}</td><td className=\"px-3 py-4 text-sm\"><button onClick={() => r.customerContact && window.open(`tel:${r.customerContact}`)} className={`flex items-center hover:text-blue-600 ${!r.customerContact && 'cursor-default'}`} disabled={!r.customerContact}>{r.customerName}{r.customerContact && <Phone className=\"w-4 h-4 ml-1\" />}</button></td><td className=\"px-3 py-4 text-sm\">{r.reason}</td><td className=\"px-3 py-4 text-sm\"><button onClick={() => openCommentModal(r)} className=\"inline-flex items-center text-red-600 hover:text-red-900 font-semibold\"><MessageSquare className=\"w-4 h-4 mr-1\"/>내용 ({getCommentCount(r)})</button></td><td className=\"px-3 py-4 text-sm\"><div className=\"flex items-center space-x-4\"><button onClick={() => openRecontractModal(r)} className=\"px-2 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600\">계약</button><button onClick={() => openConfirmDeleteModal(r.id)} className=\"text-gray-400 hover:text-red-600\"><Trash2 className=\"w-5 h-5\" /></button></div></td></tr>)} />\n          <PaginatedTable title=\"재계약 완료 기록\" records={recontractedCompletedRecords} currentPage={recontractedCompletedPage} setCurrentPage={setRecontractedCompletedPage} columns={['지점', '담당자 (재계약자)', '고객', '최초 사유', '내용', '액션']} renderRow={r => { const { recontractor } = parseRecontractInfo(r); return <tr key={r.id} className=\"bg-green-50 hover:bg-green-100\"><td className=\"px-3 py-4 text-sm\">{r.branch}</td><td className=\"px-3 py-4 text-sm\">{r.salesperson} ({recontractor})</td><td className=\"px-3 py-4 text-sm\"><button onClick={() => r.customerContact && window.open(`tel:${r.customerContact}`)} className={`flex items-center hover:text-blue-600 ${!r.customerContact && 'cursor-default'}`} disabled={!r.customerContact}>{r.customerName}{r.customerContact && <Phone className=\"w-4 h-4 ml-1\" />}</button></td><td className=\"px-3 py-4 text-sm\">{r.reason}</td><td className=\"px-3 py-4 text-sm\"><button onClick={() => openCommentModal(r)} className=\"inline-flex items-center text-blue-600 hover:text-blue-900 font-semibold\"><MessageSquare className=\"w-4 h-4 mr-1\"/>내용 ({getCommentCount(r)})</button></td><td className=\"px-3 py-4 text-sm\"><button onClick={() => openRevertConfirmModal(r)} className=\"px-2 py-1 bg-gray-500 text-white text-xs rounded hover:bg-gray-600 flex items-center\"><Undo2 className=\"w-3 h-3 mr-1\"/>미계약으로</button></td></tr>}} />\n        \n          <div ref={formRef} className=\"bg-gray-800 p-6 rounded-2xl shadow-lg\">\n            <h2 className=\"text-2xl font-bold mb-6 text-white\">새 미계약 건 기록</h2>\n            <form onSubmit={handleAddRecord} className=\"space-y-4\">\n              <div><label className=\"block text-sm font-medium text-gray-300\">지점</label><select name=\"branch\" value={newRecordForm.branch} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\">{branches.map(b => <option key={b}>{b}</option>)}</select></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">담당자</label><input type=\"text\" name=\"salesperson\" value={newRecordForm.salesperson} onFocus={handleInputFocus} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\" required /></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">고객 이름</label><input type=\"text\" name=\"customerName\" value={newRecordForm.customerName} onFocus={handleInputFocus} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\" required /></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">고객 연락처</label><input type=\"tel\" name=\"customerContact\" value={newRecordForm.customerContact} onFocus={handleInputFocus} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\" /></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">고객 출처</label><select name=\"source\" value={newRecordForm.source} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\">{sources.map(s => <option key={s}>{s}</option>)}</select></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">미계약 사유</label><select name=\"reason\" value={newRecordForm.reason} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\">{reasons.map(r => <option key={r}>{r}</option>)}</select></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">예약 날짜</label><input type=\"date\" name=\"reservationDate\" value={newRecordForm.reservationDate} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\" /></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">예약 시간</label><input type=\"time\" name=\"reservationTime\" value={newRecordForm.reservationTime} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\" /></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">상담 시간</label><input type=\"text\" name=\"consultationTime\" value={newRecordForm.consultationTime} onFocus={handleInputFocus} onChange={handleFormChange} className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\" /></div>\n              <div><label className=\"block text-sm font-medium text-gray-300\">기록 내용</label><textarea name=\"recordContent\" value={newRecordForm.recordContent} onFocus={handleInputFocus} onChange={handleFormChange} onKeyDown={handleKeyDown} rows=\"3\" className=\"mt-1 block w-full p-2 bg-gray-700 border border-gray-600 text-white rounded-md focus:ring-red-500 focus:border-red-500\" required></textarea></div>\n              <button type=\"submit\" className=\"w-full flex justify-center items-center py-2 px-4 border rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700\"><Plus className=\"w-5 h-5 mr-2\" />기록 추가</button>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      {showRevertConfirmModal && <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4\"><div className=\"p-6 bg-white w-full max-w-md rounded-lg shadow-xl text-center\"><AlertTriangle className=\"w-12 h-12 text-yellow-500 mx-auto mb-4\" /><h3 className=\"text-xl font-bold mb-4\">미계약으로 되돌리기</h3><p className=\"mb-6 text-gray-600\">이 작업을 수행하면 재계약 과정 기록과 모든 후속 코멘트가 영구적으로 삭제됩니다. 진행하시겠습니까?</p><div className=\"flex justify-center gap-4\"><button onClick={() => setShowRevertConfirmModal(false)} className=\"px-4 py-2 border border-gray-300 rounded-md\">취소</button><button onClick={handleRevertToUnclosed} className=\"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600\">확인</button></div></div></div>}\n      {showRecontractModal && <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4\"><form onSubmit={handleConfirmRecontract} className=\"p-6 bg-white w-full max-w-lg rounded-lg shadow-xl\"><h3 className=\"text-xl font-bold mb-4\">재계약 기록 입력</h3><div className=\"space-y-4\"><div><label className=\"block text-sm font-medium\">재계약 담당자</label><input type=\"text\" name=\"salesperson\" value={recontractForm.salesperson} onChange={handleRecontractFormChange} className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md\" required /></div><div><label className=\"block text-sm font-medium\">재계약 과정 기록</label><textarea name=\"content\" value={recontractForm.content} onChange={handleRecontractFormChange} rows=\"4\" className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md\" required></textarea></div></div><div className=\"flex justify-end gap-2 mt-6\"><button type=\"button\" onClick={() => setShowRecontractModal(false)} className=\"px-4 py-2 border border-gray-300 rounded-md\">취소</button><button type=\"submit\" className=\"px-4 py-2 bg-blue-600 text-white rounded-md\">저장 및 완료</button></div></form></div>}\n      {showCommentModal && <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4\">\n        <div className=\"bg-white w-full max-w-lg rounded-lg shadow-xl flex flex-col max-h-[90vh]\">\n            <div className=\"flex justify-between items-center p-4 border-b flex-shrink-0\">\n                <h3 className=\"text-xl font-bold\">기록 및 코멘트</h3>\n                <button onClick={() => setShowCommentModal(false)} className=\"text-2xl font-bold\">&times;</button>\n            </div>\n            <div className=\"p-4 overflow-y-auto\">\n                {selectedRecord.status === 'recontracted' && <div className=\"mb-4\"><button onClick={() => setShowHistory(!showHistory)} className=\"w-full flex justify-between items-center p-2 bg-gray-200 rounded-md text-sm font-semibold hover:bg-gray-300\"><span>미계약 히스토리 보기</span><History className={`w-5 h-5 transition-transform ${showHistory ? 'rotate-180' : ''}`}/></button></div>}\n                {(showHistory || selectedRecord.status !== 'recontracted') && <div><div className=\"bg-gray-50 p-4 rounded-lg mb-4 text-sm break-words\"><p><strong>지점:</strong> {selectedRecord.branch}, <strong>최초 담당자:</strong> {selectedRecord.salesperson}</p><p><strong>고객:</strong> {selectedRecord.customerName} ({selectedRecord.customerContact || '없음'})</p><p><strong>출처:</strong> {selectedRecord.source}, <strong>사유:</strong> {selectedRecord.reason}</p><p><strong>예약:</strong> {selectedRecord.reservationDate || ''} {selectedRecord.reservationTime || ''}</p><p className=\"mt-2 whitespace-pre-wrap\"><strong>최초 기록:</strong> {selectedRecord.recordContent}</p><div className=\"flex justify-between mt-2 text-gray-500 text-xs\"><span>{selectedRecord.date?.toDate().toLocaleString('ko-KR')}</span></div></div><h4 className=\"font-semibold text-gray-700 mb-2\">코멘트 ({(selectedRecord.comments?.filter(c => (typeof c === 'object' ? c.type === 'original' : !c.startsWith('[재계약 성공]'))).length || 0)}개)</h4><div className=\"mb-4 max-h-48 overflow-y-auto space-y-3\">{selectedRecord.comments?.filter(c => (typeof c === 'object' ? c.type === 'original' : !c.startsWith('[재계약 성공]'))).length > 0 ? selectedRecord.comments.filter(c => (typeof c === 'object' ? c.type === 'original' : !c.startsWith('[재계약 성공]'))).map((c, i) => <div key={i} className=\"flex items-start p-3 rounded-lg text-sm whitespace-pre-wrap bg-gray-100\"><p className=\"flex-grow\">{typeof c === 'object' ? c.text : c}</p><button onClick={() => handleDeleteComment(i, 'original')} className=\"ml-2 text-gray-400 hover:text-red-600\"><Trash2 className=\"w-4 h-4\" /></button></div>) : <p className=\"text-sm text-gray-500\">코멘트가 없습니다.</p>}</div></div>}\n                \n                {selectedRecord.status === 'recontracted' && (\n                    <div>\n                        <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg mb-4 text-sm relative\">\n                            <h4 className=\"font-bold text-blue-800 mb-2\">재계약 과정 기록</h4>\n                            <p className=\"whitespace-pre-wrap\">{parseRecontractInfo(selectedRecord).process}</p>\n                            <button onClick={handleCopyRecord} className=\"absolute bottom-2 right-2 text-sm text-blue-600 hover:text-blue-800 flex items-center\"><Copy className=\"w-4 h-4 mr-1\"/>복사</button>\n                        </div>\n                        <h4 className=\"font-semibold text-gray-700 mb-2\">후속 코멘트 ({(selectedRecord.comments?.filter(c => typeof c === 'object' && c.type === 'follow-up').length || 0)}개)</h4>\n                        <div className=\"mb-4 max-h-48 overflow-y-auto space-y-3\">{selectedRecord.comments?.filter(c => typeof c === 'object' && c.type === 'follow-up').length > 0 ? selectedRecord.comments.filter(c => typeof c === 'object' && c.type === 'follow-up').map((c, i) => <div key={i} className=\"flex items-start p-3 rounded-lg text-sm whitespace-pre-wrap bg-gray-100\"><p className=\"flex-grow\">{c.text}</p><button onClick={() => handleDeleteComment(i, 'follow-up')} className=\"ml-2 text-gray-400 hover:text-red-600\"><Trash2 className=\"w-4 h-4\" /></button></div>) : <p className=\"text-sm text-gray-500\">코멘트가 없습니다.</p>}</div>\n                    </div>\n                )}\n            </div>\n            <div className=\"p-4 border-t border-gray-200 flex-shrink-0\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">새 코멘트 추가</label>\n                <textarea value={newCommentText} onChange={(e) => setNewCommentText(e.target.value)} rows=\"2\" className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500\"></textarea>\n                <div className=\"flex justify-end\">\n                    <button onClick={handleAddComment} className=\"mt-2 px-4 py-2 bg-red-600 text-white rounded-md text-sm hover:bg-red-700\">코멘트 추가</button>\n                </div>\n            </div>\n        </div>\n      </div>}\n      {showConfirmDeleteModal && <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50\"><div className=\"p-8 bg-white w-full max-w-sm rounded-lg shadow-xl text-center\"><h3 className=\"text-xl font-bold mb-4\">기록 삭제</h3><p className=\"mb-6\">정말로 삭제하시겠습니까?</p><div className=\"flex justify-center gap-4\"><button onClick={() => setShowConfirmDeleteModal(false)} className=\"px-4 py-2 border border-gray-300 rounded-md\">취소</button><button onClick={handleDeleteRecord} className=\"px-4 py-2 bg-red-600 text-white rounded-md\">삭제</button></div></div></div>}\n    </div>\n  );\n}\n\n// --- Login Component ---\nfunction LoginComponent({ onLogin }) {\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    \n    // ========================= 중요 =========================\n    // 여기에 접속에 사용할 비밀번호를 입력하세요.\n    // ========================================================\n    const CORRECT_PASSWORD = \"0077\";\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n        if (password === CORRECT_PASSWORD) {\n            setError('');\n            onLogin();\n        } else {\n            setError('비밀번호가 올바르지 않습니다.');\n        }\n    };\n\n    return (\n        <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n            <form onSubmit={handleLogin} className=\"p-10 bg-white rounded-2xl shadow-xl text-center w-full max-w-sm\">\n                <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">미계약 건 관리 대시보드</h1>\n                <p className=\"text-gray-600 mb-6\">접속하려면 비밀번호를 입력하세요.</p>\n                <div className=\"relative\">\n                    <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                    <input\n                        type=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-red-500 focus:border-red-500\"\n                        placeholder=\"비밀번호\"\n                    />\n                </div>\n                {error && <p className=\"text-red-500 text-sm mt-2\">{error}</p>}\n                <button\n                    type=\"submit\"\n                    className=\"w-full mt-4 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg shadow-md hover:bg-red-700 transition-colors\"\n                >\n                    접속하기\n                </button>\n            </form>\n        </div>\n    );\n}\n\n// --- App Wrapper ---\nexport default function App() {\n    const [user, setUser] = useState(null);\n    const [auth, setAuth] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [isPasswordAuthenticated, setIsPasswordAuthenticated] = useState(false);\n\n    useEffect(() => {\n        const app = initializeApp(firebaseConfig);\n        const authInstance = getAuth(app);\n        setAuth(authInstance);\n\n        const unsubscribe = onAuthStateChanged(authInstance, (user) => {\n            setUser(user);\n            setLoading(false);\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    const handlePasswordLogin = async () => {\n        if (auth && !user) {\n            try {\n                await signInAnonymously(auth);\n            } catch (error) {\n                console.error(\"Anonymous sign-in failed\", error);\n            }\n        }\n        setIsPasswordAuthenticated(true);\n    };\n\n    if (loading) {\n        return <div className=\"flex items-center justify-center min-h-screen\"><div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500\"></div></div>;\n    }\n\n    return isPasswordAuthenticated && user ? <Dashboard user={user} /> : <LoginComponent onLogin={handlePasswordLogin} />;\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}